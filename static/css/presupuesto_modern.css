/* REEMPLAZA TODO EL ARCHIVO: static/css/presupuesto_modern.css */

/* --- Layout Principal --- */

/* Esta es la regla clave para el ancho que pides */
#main-content {
    /* 1. Ocupa todo el espacio restante después del sidebar */
    width: calc(100% - 240px); /* 240px es el ancho de tu sidebar */
    
    /* 2. Añade un padding generoso para que el contenido no toque los bordes.
       Esto crea el efecto de que termina "un poquito antes" de la pantalla. */
    padding: 2.5rem;
    
    /* 3. Evita que el contenedor se encoja más de lo necesario */
    flex-shrink: 0;
}


/* --- Títulos y Secciones --- */
.form-section-title {
    font-weight: 600;
    color: var(--text-header, #212529); /* Color por defecto si la variable no existe */
    margin-top: 1.5rem;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--border-color, #dee2e6); /* Color por defecto */
}


/* --- Búsqueda de Componentes --- */
.search-results-list {
    display: none;
    position: absolute;
    background-color: white;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    width: calc(100% - 1rem); /* Ajusta el ancho para que no se desborde */
    max-height: 250px;
    overflow-y: auto;
    z-index: 1000;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.result-item {
    padding: 0.75rem 1rem;
    cursor: pointer;
    border-bottom: 1px solid #e9ecef;
}
.result-item:last-child { border-bottom: none; }
.result-item:hover { background-color: #f8f9fa; }


/* --- Tabla de Ítems del Presupuesto --- */
#tabla-items-presupuesto .form-control,
#tabla-items-presupuesto .form-select {
    min-width: 80px;
    font-size: 0.9rem;
    height: auto;
    padding: 0.3rem 0.5rem;
}

#tabla-items-presupuesto .precio-venta,
#tabla-items-presupuesto .subtotal-item {
    font-weight: 500;
    text-align: right;
}

/* Icono para arrastrar */
#tabla-items-presupuesto .drag-handle {
    cursor: grab;
    color: #adb5bd;
    font-size: 1.2rem;
}

/* Estilo para ítems ocultos en el PDF */
#tabla-items-presupuesto tr.item-oculto {
    opacity: 0.6;
    background-color: #f8f9fa;
}


/* --- Resumen de Totales --- */
.resumen-totales { 
    text-align: right; 
    min-width: 250px;
}
.resumen-totales p { 
    margin: 0; 
    color: #6c757d;
    font-size: 0.9rem; 
}
.resumen-totales h4 { 
    margin: 0.25rem 0 0 0; 
}


/* --- Historial de Presupuestos --- */
.historial-card .card-header { 
    background-color: #f8f9fa; 
    cursor: pointer; 
}
.historial-card .card-body, .historial-card .card-footer { 
    background-color: #ffffff; 
}
.historial-card .card-header .fa-chevron-down { 
    transition: transform 0.2s ease-in-out; 
}
.historial-card .card-header:not(.collapsed) .fa-chevron-down { 
    transform: rotate(180deg); 
}

/* AGREGA ESTO AL FINAL DE: static/css/presupuesto_modern.css */

/* --- SOLUCIÓN DE ANCHO FIJO --- */

/* 1. Contenedor Principal de Ancho Fijo y Grande */
#main-content {
    /* Define un ancho máximo grande para que el contenido no se encoja en pantallas amplias */
    max-width: 1500px; 
    
    /* Mantiene el espacio para el sidebar a la izquierda */
    margin-left: 240px; 

    /* Centra el contenido si la pantalla es aún más ancha que el max-width */
    margin-right: auto; 
}

/* 2. Forzar Ancho Fijo en las Columnas de la Tabla */
#form-presupuesto .table {
    /* Esta es la propiedad clave: le dice a la tabla que ignore el tamaño del contenido
       y que respete los anchos definidos en la cabecera (thead). */
    table-layout: fixed;
    width: 100%; /* Asegura que la tabla ocupe todo el ancho de su contenedor */
}

/* 3. Evitar que el texto largo de los productos rompa el diseño */
#form-presupuesto .table td {
    /* Si un nombre de producto es muy largo, se cortará y pasará a la línea de abajo
       en lugar de agrandar la columna. */
    word-wrap: break-word;
    overflow-wrap: break-word;
}