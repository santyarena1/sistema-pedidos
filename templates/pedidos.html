<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Nuevo Pedido</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="/static/css/pedidos.css" />
  <script defer src="/static/js/pedidos.js"></script>
</head>
<body class="p-4">
  <div class="d-flex">
    <div id="sidebar">
      <div class="sidebar-title"><i class="fas fa-cubes"></i> TheGamerShop</div>
      <ul class="nav flex-column">
        <li class="nav-item mb-2"><a class="nav-link text-white" href="/presupuestos"><i class="fas fa-file-invoice-dollar"></i> Presupuestos</a></li>
        <li class="nav-item mb-2"><a class="nav-link text-white" href="/buscar"><i class="fas fa-search"></i> Comparador</a></li>
        <li class="nav-item mb-2"><a class="nav-link text-white" href="/carrito"><i class="fas fa-shopping-cart"></i> Carrito</a></li>
        <li class="nav-item mb-2"><a class="nav-link text-white" href="/pc_armadas"><i class="fas fa-desktop"></i> PC Armadas</a></li>
        <li class="nav-item mb-2"><a class="nav-link text-white active" href="/pedidos"><i class="fas fa-truck"></i> Pedidos</a></li>
        <li class="nav-item mb-2"><a class="nav-link text-white" href="/pedidos/lista"><i class="fas fa-list"></i> Lista de Pedidos</a></li>
        <li class="nav-item mb-2"><a class="nav-link text-white" href="/stock"><i class="fas fa-boxes"></i> Lista de Stock</a></li>
      </ul>
    </div>

    <div class="flex-grow-1 p-4" id="main-content">
      <div class="container">
        <div class="box rounded shadow-sm p-4">
          <h1 class="mb-4"><i class="fas fa-truck me-2"></i>Nuevo Pedido</h1>

          <form id="pedidoForm">
            <!-- Datos del Cliente -->
            <h4>üßç Datos del Cliente</h4>
            <div class="row mb-3">
              <div class="col-md-4"><input class="form-control" name="nombre_cliente" placeholder="Nombre y Apellido" required /></div>
              <div class="col-md-4"><input class="form-control" name="dni_cliente" placeholder="DNI / CUIL / CUIT" /></div>
              <div class="col-md-4"><input class="form-control" name="telefono" placeholder="Tel√©fono" /></div>
            </div>
            <div class="row mb-3">
              <div class="col-md-6"><input class="form-control" name="email" placeholder="Email" /></div>
              <div class="col-md-6"><input class="form-control" name="direccion" placeholder="Direcci√≥n completa" /></div>
            </div>
            <div class="mb-4">
              <select class="form-select" name="tipo_factura">
                <option value="NA">Tipo de Factura</option>
                <option>Factura A</option>
                <option>Factura B</option>
              </select>
            </div>

            <!-- Datos del Pedido -->
            <h4>üì¶ Datos del Pedido</h4>
            <div class="row mb-3">
              <div class="col-md-4">
                <input class="form-control" name="fecha_emision" type="date" required />
              </div>
              <div class="col-md-4">
                <input class="form-control" name="numero_pedido" readonly value="N1000" />
              </div>
              <div class="col-md-4">
                <select class="form-select" name="origen_venta">
                  <option value="Meta">Meta</option>
                  <option value="WhatsApp">WhatsApp</option>
                  <option value="Local">Local</option>
                  <option value="Frecuente">Frecuente</option>
                  <option value="Recomendado">Recomendado</option>
                  <option value="Instagram">Instagram</option>
                </select>
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-md-4">
                <select class="form-select" name="vendedor">
                  <option>Santy</option><option>Thiago</option><option>Lucas</option><option>Ale</option><option>Repe</option>
                </select>
              </div>
              <div class="col-md-4">
                <select class="form-select" name="forma_envio" onchange="this.value === 'RETIRA' ? document.getElementById('costoEnvio').style.display='none' : document.getElementById('costoEnvio').style.display='block'">
                  <option>ANDREANI</option><option>DROPSHIPPING</option><option>MOTO</option><option>RETIRA</option>
                </select>
              </div>
              <div class="col-md-4" id="costoEnvio">
                <input class="form-control" name="costo_envio" placeholder="Costo env√≠o" value="0" />
              </div>
            </div>

            <!-- Contenido del Pedido -->
            <h4>üõí Contenido del Pedido</h4>
            <div id="productosContainer" class="mb-3"></div>
            <button type="button" class="btn btn-outline-primary mb-4" onclick="agregarProducto()"><i class="fas fa-plus"></i> Agregar Producto</button>

            <!-- Pagos -->
            <h4>üí∞ Pagos</h4>
            <div id="pagosContainer" class="mb-3"></div>
            <button type="button" class="btn btn-outline-success mb-4" onclick="agregarPago()"><i class="fas fa-wallet"></i> Agregar Pago</button>

            <button id="generarPedidoBtn" class="btn btn-dark">üìÑ Generar Constancia y Guardar</button>

          </form>

        </div>
      </div>
    </div>
  </div>
</body>
</html>

